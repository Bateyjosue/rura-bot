<html>
  <head>
    <title>Gov Chatbot</title>
    <link href="{{ url_for('static', path='/index.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', path='/index.js') }}" rel="javascript">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,400i,700">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Rubik+Vinyl&display=swap" rel="stylesheet">

  </head>
  <body>
    <div class="header">
      <div class="inner-header flex">
        <span class="material-symbols-outlined">code</span>
        <h1 class="typewriter">Gov Chatbot</h1>
      </div>
      <div>
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
          </defs>
          <g class="parallax">
            <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" />
            <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
            <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
            <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
          </g>
        </svg>
      </div>
    </div>
      <button class="btn-chat">
        <span class="material-symbols-outlined">contact_support</span>
        <span>Gov Chatbot</span>
      </button>
      <div class="chat-container">
        <div class="chat-container__header">
          <span class="material-symbols-outlined" id="close">close</span>
          <h3>Gov Chatbot</h3>
          <span class="material-symbols-outlined">smart_toy</span>
        </div>
      
        <div class="chat-container__content" id="style-15">
          {% for wel in welcome %}
            <div class="msg bot" id="bot">
                <div class="message-content">
                  <span class="material-symbols-outlined">smart_toy</span>
                  <div class="msg bot" id="bot">
                    <span>{{wel}}</span>
                  </div>
                </div>
            </div>
          {% endfor %}

          {% for message in dic.items() %}
            {% if message[0][:-1] == 'bot' %}
              <div class="msg bot" id="bot">
                <div class="message-content">
                  <span class="material-symbols-outlined">smart_toy</span>
                  <div class="msg bot" id="bot">
                    <span>{{message[1]}}</span>
                  </div>
                </div>
              </div>
            {% else %}
              <div class="message-content user message-content-user">
                <div class="msg user" id="{{ loop.index }}">
                  <span>{{message[1]}}</span>
                </div>
                <span class="material-symbols-outlined">person</span>
              </div>
            {% endif %}
          {% endfor %}
        </div>
    
      <div class="chat-container__footer">
          <form method="get" action="/chat">
            
            <div class="input-field">
              <input type="text" name="message" id="message" placeholder="Place your Message here">
            </div>
            <div class="submit-field">
              <input type="submit" value="Send" id="submit">
            </div>
          </form>
        </div>
    
      </div>
    
      <!--Chatbot design end-->
      <!--Content starts-->
      <div class="content flex">
        <p>&copy;By.Josue BATEY | All right reserved </p>
      </div>
      <!--Content ends-->
      <script>
        btnChat = document.querySelector('.btn-chat');
        chatContainer = document.querySelector('.chat-container')
        close = document.querySelector('#close')
        submit = document.querySelector('#submit')
    
        btnChat.addEventListener('click', ()=>{
            chatContainer.style.display = 'block'
        });
    
        close.addEventListener('click', ()=>{
          chatContainer.style.display = "none"
        })
    
        submit.addEventListener('click', (e)=>{
          return false
        })
    
        chatContainerContent = document.querySelector('.chat-container__content');
    
        console.log(chatContainerContent.childElementCount)
    
        window.addEventListener('load', ()=> {
        [...chatContainerContent.children]
          .sort((a,b)=>a.id.value>b.id.value?1:-1)
          .forEach(node=>list.appendChild(node));
        });
    
        window.onbeforeunload = function(e) {
          document.cookie = 'cookiename=; expires=' + d.toGMTString() + ';';
        };
      </script>
  </body>
</html